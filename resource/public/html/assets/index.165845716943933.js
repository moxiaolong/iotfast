var _=Object.defineProperty;var B=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var E=(e,n,a)=>n in e?_(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,$=(e,n)=>{for(var a in n||(n={}))O.call(n,a)&&E(e,a,n[a]);if(B)for(var a of B(n))W.call(n,a)&&E(e,a,n[a]);return e};import{i as F}from"./getStyleSheets.1658457169439.js";import{_ as R}from"./index.1658457169439.js";import{j as D,a as z,$ as M,x as N,d as U,b as j,ac as q,n as A,_ as r,k as c,l as S,V as w,O as p,M as g,I,m as s,U as G,S as V,F as H,a3 as J}from"./vue.1658457169439.js";const K=D({name:"iconSelector",emits:["update:modelValue","get","clear"],props:{prepend:{type:String,default:()=>"ele-Pointer"},placeholder:{type:String,default:()=>"\u8BF7\u8F93\u5165\u5185\u5BB9\u641C\u7D22\u56FE\u6807\u6216\u8005\u9009\u62E9\u56FE\u6807"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"\u8BF7\u9009\u62E9\u56FE\u6807"},type:{type:String,default:()=>"ele"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"\u65E0\u76F8\u5173\u56FE\u6807"},modelValue:String},setup(e,{emit:n}){const a=z(),k=z(),o=M({fontIconPrefix:"",fontIconWidth:0,fontIconSearch:"",fontIconTabsIndex:0,fontIconSheetsList:[],fontIconPlaceholder:"",fontIconType:"ali",fontIconShow:!0}),b=()=>{if(!e.modelValue)return!1;o.fontIconSearch="",o.fontIconPlaceholder=e.modelValue},h=()=>{setTimeout(()=>{o.fontIconSheetsList.filter(i=>i===o.fontIconSearch).length<=0&&(o.fontIconSearch="")},300)},f=()=>{if(e.modelValue==="")return o.fontIconPlaceholder=e.placeholder;o.fontIconPlaceholder=e.modelValue,o.fontIconPrefix=e.modelValue},v=()=>{var l,i,u;((l=e.modelValue)==null?void 0:l.indexOf("iconfont"))>-1?t("ali"):((i=e.modelValue)==null?void 0:i.indexOf("ele-"))>-1?t("ele"):((u=e.modelValue)==null?void 0:u.indexOf("fa"))>-1?t("awe"):t("ali")},P=N(()=>{if(!o.fontIconSearch)return o.fontIconSheetsList;let l=o.fontIconSearch.trim().toLowerCase();return o.fontIconSheetsList.filter(i=>{if(i.toLowerCase().indexOf(l)!==-1)return i})}),m=()=>{A(()=>{o.fontIconWidth=a.value.$el.offsetWidth})},y=()=>{window.addEventListener("resize",()=>{m()})},C=async l=>{o.fontIconSheetsList=[],l==="ali"?await F.ali().then(i=>{o.fontIconSheetsList=i.map(u=>`iconfont ${u}`)}):l==="ele"?await F.ele().then(i=>{o.fontIconSheetsList=i}):l==="awe"&&await F.awe().then(i=>{o.fontIconSheetsList=i.map(u=>`fa ${u}`)}),o.fontIconPlaceholder=e.placeholder,f()},t=l=>{o.fontIconType=l,C(l)},d=l=>{o.fontIconPlaceholder=l,o.fontIconPrefix=l,n("get",o.fontIconPrefix),n("update:modelValue",o.fontIconPrefix)},L=()=>{o.fontIconPrefix="",n("clear",o.fontIconPrefix),n("update:modelValue",o.fontIconPrefix)},T=()=>{f(),v()};return U(()=>{f(),y(),m()}),j(()=>e.modelValue,()=>{f()}),$({inputWidthRef:a,selectorScrollbarRef:k,fontIconSheetsFilterList:P,onColClick:d,onIconChange:t,onClearFontIcon:L,onIconFocus:b,onIconBlur:h,onPopoverShow:T},q(o))}}),Q={class:"icon-selector w100 h100"},X={class:"icon-selector-warp"},Y={class:"icon-selector-warp-title flex"},Z={class:"flex-auto"},x={key:0,class:"icon-selector-warp-title-tab"},ee={class:"icon-selector-warp-row"},oe={class:"flex-margin"},ne={class:"icon-selector-warp-item-value"};function te(e,n,a,k,o,b){const h=r("SvgIcon"),f=r("el-input"),v=r("el-col"),P=r("el-row"),m=r("el-empty"),y=r("el-scrollbar"),C=r("el-popover");return c(),S("div",Q,[w(C,{placement:"bottom",width:e.fontIconWidth,trigger:"click",transition:"el-zoom-in-top","popper-class":"icon-selector-popper",onShow:e.onPopoverShow},{reference:p(()=>[w(f,{modelValue:e.fontIconSearch,"onUpdate:modelValue":n[0]||(n[0]=t=>e.fontIconSearch=t),placeholder:e.fontIconPlaceholder,clearable:e.clearable,disabled:e.disabled,size:e.size,ref:"inputWidthRef",onClear:e.onClearFontIcon,onFocus:e.onIconFocus,onBlur:e.onIconBlur},{prepend:p(()=>{var t,d;return[(e.fontIconPrefix===""?((t=e.prepend)==null?void 0:t.indexOf("ele-"))>-1:((d=e.fontIconPrefix)==null?void 0:d.indexOf("ele-"))>-1)?(c(),g(h,{key:0,name:e.fontIconPrefix===""?e.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(c(),S("i",{key:1,class:I([e.fontIconPrefix===""?e.prepend:e.fontIconPrefix,"font14"])},null,2))]}),_:1},8,["modelValue","placeholder","clearable","disabled","size","onClear","onFocus","onBlur"])]),default:p(()=>[s("div",X,[s("div",Y,[s("div",Z,G(e.title),1),e.type==="all"?(c(),S("div",x,[s("span",{class:I([{"span-active":e.fontIconType==="ali"},"ml10"]),onClick:n[1]||(n[1]=t=>e.onIconChange("ali")),title:"iconfont \u56FE\u6807"},"ali",2),s("span",{class:I([{"span-active":e.fontIconType==="ele"},"ml10"]),onClick:n[2]||(n[2]=t=>e.onIconChange("ele")),title:"elementPlus \u56FE\u6807"},"ele",2),s("span",{class:I([{"span-active":e.fontIconType==="awe"},"ml10"]),onClick:n[3]||(n[3]=t=>e.onIconChange("awe")),title:"fontawesome \u56FE\u6807"},"awe",2)])):V("",!0)]),s("div",ee,[w(y,{ref:"selectorScrollbarRef"},{default:p(()=>[e.fontIconSheetsFilterList.length>0?(c(),g(P,{key:0,gutter:10},{default:p(()=>[(c(!0),S(H,null,J(e.fontIconSheetsFilterList,(t,d)=>(c(),g(v,{xs:6,sm:4,md:4,lg:4,xl:4,onClick:L=>e.onColClick(t),key:d},{default:p(()=>[s("div",{class:I(["icon-selector-warp-item",{"icon-selector-active":e.fontIconPrefix===t}])},[s("div",oe,[s("div",ne,[w(h,{name:t},null,8,["name"])])])],2)]),_:2},1032,["onClick"]))),128))]),_:1})):V("",!0),e.fontIconSheetsFilterList.length<=0?(c(),g(m,{key:1,"image-size":100,description:e.emptyDescription},null,8,["description"])):V("",!0)]),_:1},512)])])]),_:1},8,["width","onShow"])])}var ce=R(K,[["render",te]]);export{ce as I};
