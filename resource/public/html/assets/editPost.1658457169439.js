var k=Object.defineProperty;var _=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var C=(e,t,a)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,v=(e,t)=>{for(var a in t||(t={}))P.call(t,a)&&C(e,a,t[a]);if(_)for(var a of _(t))B.call(t,a)&&C(e,a,t[a]);return e};import{s as p,_ as N,E}from"./index.1658457169439.js";import{j as w,a as V,$ as U,ac as I,l as b,V as u,O as s,u as $,_ as d,a6 as z,k as y,P as R,T as c,U as h,m as j}from"./vue.1658457169439.js";function X(e){return p({url:"/api/v1/system/post/list",method:"get",params:e})}function q(e){return p({url:"/api/v1/system/post/add",method:"post",data:e})}function L(e){return p({url:"/api/v1/system/post/edit",method:"put",data:e})}function Y(e){return p({url:"/api/v1/system/post/delete",method:"delete",data:{ids:e}})}const O=w({name:"systemEditPost",setup(e,{emit:t}){const a=V(null),g=V(),o=U({loading:!1,isShowDialog:!1,formData:{postId:0,postCode:"",postName:"",postSort:0,status:1,remark:""},rules:{postName:[{required:!0,message:"\u5C97\u4F4D\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],postCode:[{required:!0,message:"\u5C97\u4F4D\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],postSort:[{required:!0,message:"\u5C97\u4F4D\u987A\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]},menuExpand:!1,menuNodeAll:!1,menuCheckStrictly:!1,menuProps:{children:"children",label:"title"}}),F=i=>{D(),i&&(o.formData=i),o.isShowDialog=!0},r=()=>{o.isShowDialog=!1},n=()=>{r()},f=()=>{const i=$(a);!i||i.validate(m=>{m&&(o.loading=!0,o.formData.postId===0?q(o.formData).then(()=>{E.success("\u5C97\u4F4D\u6DFB\u52A0\u6210\u529F"),r(),t("getPostList")}).finally(()=>{o.loading=!1}):L(o.formData).then(()=>{E.success("\u5C97\u4F4D\u4FEE\u6539\u6210\u529F"),r(),t("getPostList")}).finally(()=>{o.loading=!1}))})},D=()=>{o.menuCheckStrictly=!1,o.menuExpand=!1,o.menuNodeAll=!1,o.formData={postId:0,postCode:"",postName:"",postSort:0,status:1,remark:""}};return v({openDialog:F,closeDialog:r,onCancel:n,onSubmit:f,menuRef:g,formRef:a},I(o))}}),T={class:"system-edit-post-container"},M={class:"dialog-footer"},W=c("\u53D6 \u6D88");function G(e,t,a,g,o,F){const r=d("el-input"),n=d("el-form-item"),f=d("el-input-number"),D=d("el-switch"),i=d("el-form"),m=d("el-button"),S=d("el-dialog"),A=z("drag");return y(),b("div",T,[u(S,{modelValue:e.isShowDialog,"onUpdate:modelValue":t[5]||(t[5]=l=>e.isShowDialog=l),width:"769px"},{title:s(()=>[R((y(),b("div",null,[c(h((e.formData.postId===0?"\u6DFB\u52A0":"\u4FEE\u6539")+"\u5C97\u4F4D"),1)])),[[A,[".system-edit-post-container .el-dialog",".system-edit-post-container .el-dialog__header"]]])]),footer:s(()=>[j("span",M,[u(m,{onClick:e.onCancel,size:"default"},{default:s(()=>[W]),_:1},8,["onClick"]),u(m,{type:"primary",onClick:e.onSubmit,size:"default",loading:e.loading},{default:s(()=>[c(h(e.formData.postId===0?"\u65B0 \u589E":"\u4FEE \u6539"),1)]),_:1},8,["onClick","loading"])])]),default:s(()=>[u(i,{ref:"formRef",model:e.formData,rules:e.rules,size:"default","label-width":"90px"},{default:s(()=>[u(n,{label:"\u5C97\u4F4D\u540D\u79F0",prop:"postName"},{default:s(()=>[u(r,{modelValue:e.formData.postName,"onUpdate:modelValue":t[0]||(t[0]=l=>e.formData.postName=l),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0"},null,8,["modelValue"])]),_:1}),u(n,{label:"\u5C97\u4F4D\u7F16\u7801",prop:"postCode"},{default:s(()=>[u(r,{modelValue:e.formData.postCode,"onUpdate:modelValue":t[1]||(t[1]=l=>e.formData.postCode=l),placeholder:"\u8BF7\u8F93\u5165\u7F16\u7801\u540D\u79F0"},null,8,["modelValue"])]),_:1}),u(n,{label:"\u5C97\u4F4D\u987A\u5E8F",prop:"postSort"},{default:s(()=>[u(f,{modelValue:e.formData.postSort,"onUpdate:modelValue":t[2]||(t[2]=l=>e.formData.postSort=l),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),u(n,{label:"\u5C97\u4F4D\u72B6\u6001",prop:"status"},{default:s(()=>[u(D,{modelValue:e.formData.status,"onUpdate:modelValue":t[3]||(t[3]=l=>e.formData.status=l),"active-value":1,"inactive-value":0,"inline-prompt":"","active-text":"\u542F","inactive-text":"\u7981"},null,8,["modelValue"])]),_:1}),u(n,{label:"\u5907\u6CE8",prop:"remark"},{default:s(()=>[u(r,{modelValue:e.formData.remark,"onUpdate:modelValue":t[4]||(t[4]=l=>e.formData.remark=l),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}var H=N(O,[["render",G],["__scopeId","data-v-3a5f51bb"]]),Z=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));export{H as E,Y as d,Z as e,X as g};
