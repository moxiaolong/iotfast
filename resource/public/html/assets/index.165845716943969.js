var z=Object.defineProperty;var E=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var w=(t,a,l)=>a in t?z(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,v=(t,a)=>{for(var l in a||(a={}))R.call(a,l)&&w(t,l,a[l]);if(E)for(var l of E(a))O.call(a,l)&&w(t,l,a[l]);return t};import{j as T,a as B,$ as U,d as M,ac as G,l as H,V as e,O as o,al as I,_ as u,k as F,m as j,M as y,P as Q,Q as q,T as r}from"./vue.1658457169439.js";import{E as J,g as K,d as W}from"./editPost.1658457169439.js";import{_ as X,E as P,L as Y}from"./index.1658457169439.js";const Z=T({name:"apiV1SystemPostList",components:{EditPost:J},setup(){const t=B(),a=B(),l=U({ids:[],tableData:{data:[],total:0,loading:!1,param:{postName:"",status:"",postCode:"",pageNum:1,pageSize:10}}}),C=()=>{c()},c=()=>{K(l.tableData.param).then(n=>{var p;l.tableData.data=(p=n.data.postList)!=null?p:[],l.tableData.total=n.data.total})},b=()=>{a.value.openDialog()},_=n=>{a.value.openDialog(I(n))},d=n=>{let p="\u4F60\u786E\u5B9A\u8981\u5220\u9664\u6240\u9009\u5C97\u4F4D\uFF1F",m=[];if(n?(p=`\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u5C97\u4F4D\uFF1A\u201C${n.postName}\u201D\uFF0C\u662F\u5426\u7EE7\u7EED?`,m=[n.postId]):m=l.ids,m.length===0){P.error("\u8BF7\u9009\u62E9\u8981\u5220\u9664\u7684\u6570\u636E\u3002");return}Y.confirm(p,"\u63D0\u793A",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{W(m).then(()=>{P.success("\u5220\u9664\u6210\u529F"),c()})}).catch(()=>{})},f=n=>{l.tableData.param.pageSize=n},D=n=>{l.tableData.param.pageNum=n};return M(()=>{C()}),v({addPostRef:t,editPostRef:a,onOpenAddPost:b,onOpenEditPost:_,onRowDel:d,onHandleSizeChange:f,onHandleCurrentChange:D,postList:c,handleSelectionChange:n=>{l.ids=n.map(p=>p.postId)}},G(l))}}),x={class:"system-post-container"},ee={class:"system-user-search mb15"},te=r(" \u67E5\u8BE2 "),ae=r(" \u65B0\u589E\u5C97\u4F4D "),oe=r(" \u5220\u9664\u5C97\u4F4D "),le=r("\u542F\u7528"),ne=r("\u7981\u7528"),ue=r("\u4FEE\u6539"),se=r("\u5220\u9664");function pe(t,a,l,C,c,b){const _=u("el-input"),d=u("el-form-item"),f=u("el-option"),D=u("el-select"),g=u("ele-Search"),n=u("el-icon"),p=u("el-button"),m=u("ele-FolderAdd"),k=u("ele-Delete"),S=u("el-form"),i=u("el-table-column"),h=u("el-tag"),V=u("el-table"),N=u("pagination"),A=u("el-card"),L=u("EditPost");return F(),H("div",x,[e(A,{shadow:"hover"},{default:o(()=>[j("div",ee,[e(S,{inline:!0,size:"default"},{default:o(()=>[e(d,{label:"\u5C97\u4F4D\u540D\u79F0"},{default:o(()=>[e(_,{modelValue:t.tableData.param.postName,"onUpdate:modelValue":a[0]||(a[0]=s=>t.tableData.param.postName=s),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"\u5C97\u4F4D\u7F16\u7801"},{default:o(()=>[e(_,{modelValue:t.tableData.param.postCode,"onUpdate:modelValue":a[1]||(a[1]=s=>t.tableData.param.postCode=s),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"\u72B6\u6001"},{default:o(()=>[e(D,{placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",modelValue:t.tableData.param.status,"onUpdate:modelValue":a[2]||(a[2]=s=>t.tableData.param.status=s),clearable:""},{default:o(()=>[e(f,{label:"\u542F\u7528",value:"1"}),e(f,{label:"\u7981\u7528",value:"0"})]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:o(()=>[e(p,{type:"primary",onClick:t.postList},{default:o(()=>[e(n,null,{default:o(()=>[e(g)]),_:1}),te]),_:1},8,["onClick"])]),_:1}),e(d,null,{default:o(()=>[e(p,{type:"success",onClick:t.onOpenAddPost},{default:o(()=>[e(n,null,{default:o(()=>[e(m)]),_:1}),ae]),_:1},8,["onClick"])]),_:1}),e(d,{style:{"vertical-align":"top"}},{default:o(()=>[e(p,{type:"danger",onClick:a[3]||(a[3]=s=>t.onRowDel(null))},{default:o(()=>[e(n,null,{default:o(()=>[e(k)]),_:1}),oe]),_:1})]),_:1})]),_:1})]),e(V,{data:t.tableData.data,style:{width:"100%"},onSelectionChange:t.handleSelectionChange},{default:o(()=>[e(i,{type:"selection",width:"55",align:"center"}),e(i,{type:"index",label:"\u5E8F\u53F7",width:"60"}),e(i,{prop:"postCode",label:"\u5C97\u4F4D\u7F16\u7801","show-overflow-tooltip":""}),e(i,{prop:"postName",label:"\u5C97\u4F4D\u540D\u79F0","show-overflow-tooltip":""}),e(i,{prop:"postSort",label:"\u6392\u5E8F","show-overflow-tooltip":""}),e(i,{prop:"status",label:"\u5C97\u4F4D\u72B6\u6001","show-overflow-tooltip":""},{default:o(s=>[s.row.status===1?(F(),y(h,{key:0,type:"success"},{default:o(()=>[le]),_:1})):(F(),y(h,{key:1,type:"info"},{default:o(()=>[ne]),_:1}))]),_:1}),e(i,{prop:"remark",label:"\u5C97\u4F4D\u63CF\u8FF0","show-overflow-tooltip":""}),e(i,{prop:"createdAt",label:"\u521B\u5EFA\u65F6\u95F4","show-overflow-tooltip":""}),e(i,{label:"\u64CD\u4F5C",width:"100"},{default:o(s=>[e(p,{class:"no_padding",size:"small",type:"text",onClick:$=>t.onOpenEditPost(s.row)},{default:o(()=>[ue]),_:2},1032,["onClick"]),e(p,{class:"no_padding",size:"small",type:"text",onClick:$=>t.onRowDel(s.row)},{default:o(()=>[se]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange"]),Q(e(N,{total:t.tableData.total,page:t.tableData.param.pageNum,"onUpdate:page":a[4]||(a[4]=s=>t.tableData.param.pageNum=s),limit:t.tableData.param.pageSize,"onUpdate:limit":a[5]||(a[5]=s=>t.tableData.param.pageSize=s),onPagination:t.postList},null,8,["total","page","limit","onPagination"]),[[q,t.tableData.total>0]])]),_:1}),e(L,{ref:"editPostRef",onGetPostList:t.postList},null,8,["onGetPostList"])])}var ce=X(Z,[["render",pe]]);export{ce as default};
