var D=Object.defineProperty,w=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var g=(s,l,t)=>l in s?D(s,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[l]=t,I=(s,l)=>{for(var t in l||(l={}))E.call(l,t)&&g(s,t,l[t]);if(C)for(var t of C(l))U.call(l,t)&&g(s,t,l[t]);return s},S=(s,l)=>w(s,A(l));import{i as B}from"./echarts.1658457169439.js";import"./wordCloud.1658457169439.js";import{s as k,_ as O}from"./index.1658457169439.js";import{j as z,$ as R,d as $,ac as L,l as y,V as d,O as a,_ as F,k as b,m as e,U as o,F as P,a3 as N,c as T,az as x,aA as V}from"./vue.1658457169439.js";import"./echarts.16584571694392.js";function W(){return k({url:"/api/v1/system/monitor/server",method:"get"})}let m=null;const M=z({name:"monitor",components:{},setup(){const{proxy:s}=T(),l=R({myCharts:[],sysInfo:{}});let t,r;function h(u){t.setOption({series:[{data:[{value:u,name:"CPU\u4F7F\u7528\u7387"}]}]})}function f(u){r.setOption({series:[{data:[{value:u,name:"\u5185\u5B58\u4F7F\u7528\u7387"}]}]})}const c=()=>{t=B(s.$refs.chartsWarningRef1);const u={tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{type:"gauge",name:"CPU",radius:"80%",title:{show:!0,fontSize:14,offsetCenter:[0,"40%"]},axisLine:{show:!0,lineStyle:{color:[[.3,"#4dabf7"],[.6,"#69db7c"],[.8,"#ffa94d"],[1,"#ff6b6b"]]}},detail:{valueAnimation:!0,formatter:"{value}%",textStyle:{fontSize:36,color:"red"},offsetCenter:["0","80%"]}}]};t.setOption(u),l.myCharts.push(t)},i=()=>{r=B(s.$refs.chartsWarningRef2);const u={tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{type:"gauge",name:"\u5185\u5B58",radius:"80%",title:{show:!0,fontSize:14,offsetCenter:[0,"40%"]},axisLine:{show:!0,lineStyle:{color:[[.3,"#4dabf7"],[.6,"#69db7c"],[.8,"#ffa94d"],[1,"#ff6b6b"]]}},detail:{valueAnimation:!0,formatter:"{value}%",textStyle:{fontSize:36,color:"red"},offsetCenter:["0","80%"]}}]};r.setOption(u),l.myCharts.push(r)};$(()=>{c(),i()});function _(){W().then(u=>{const{code:v,data:p}=u;v===0&&(l.sysInfo=p,h(p.cpuUsed),f(p.memUsage))})}return S(I({},L(l)),{getSystemInfo:_,setOptChart1:h,setOptChart2:f})},created(){this.getSystemInfo(),m===null&&(m=setInterval(()=>{this.getSystemInfo()},5e3))},unmounted(){m!==null&&(clearInterval(m),m=null)},data(){return{}},methods:{memorySizeFormat(s){s=parseFloat(s);let l=0,t="Bytes";for(;s>1024&&t!="TB";)s=s/1024,l++,l==1?t="KB":l==2?t="MB":l==3?t="GB":l==4&&(t="TB");return s.toFixed(2)+" "+t},timeFormat(s){s=parseFloat(s);let l=0,t="\u79D2";for(;s>60&&t!="\u5C0F\u65F6"&&t!="\u5929"||s>24&&t=="\u5C0F\u65F6";)t=="\u5C0F\u65F6"?s=s/24:s=s/60,l++,l==1?t="\u5206":l==2?t="\u5C0F\u65F6":l==3&&(t="\u5929");return s.toFixed(2)+" "+t}}}),n=s=>(x("data-v-478554bb"),s=s(),V(),s),G={class:"system-user-container"},j=n(()=>e("div",{class:"card-header"},[e("span",null,"\u8FD0\u884C\u8D44\u6E90")],-1)),K={class:"el-table--enable-row-hover el-table--medium"},q={cellspacing:"0",style:{width:"100%"}},H=n(()=>e("td",null,[e("div",{class:"cell"},"\u64CD\u4F5C\u7CFB\u7EDF:")],-1)),J={class:"cell"},Q=n(()=>e("td",null,[e("div",{class:"cell"},"\u7CFB\u7EDF\u67B6\u6784:")],-1)),X={class:"cell"},Y=n(()=>e("td",null,[e("div",{class:"cell"},"\u670D\u52A1\u5668\u540D\u79F0:")],-1)),Z={class:"cell"},ee=n(()=>e("td",null,[e("div",{class:"cell"},"\u670D\u52A1\u5668IP:")],-1)),se={class:"cell"},te=n(()=>e("td",null,[e("div",{class:"cell"},"Go\u8BED\u8A00\u7248\u672C")],-1)),le={class:"cell"},oe=n(()=>e("td",null,[e("div",{class:"cell"},"\u542F\u52A8\u65F6\u95F4")],-1)),ne={class:"cell"},ae=n(()=>e("td",null,[e("div",{class:"cell"},"\u8FD0\u884C\u65F6\u957F:")],-1)),ue={class:"cell"},de=n(()=>e("div",{class:"card-header"},[e("span",null,"\u786C\u76D8\u8D44\u6E90")],-1)),ie={class:"el-table--enable-row-hover el-table--medium"},ce={cellspacing:"0",style:{width:"100%"}},re=n(()=>e("tr",null,[e("td",null,[e("div",{class:"cell"},"\u76D8\u7B26\u8DEF\u5F84")]),e("td",null,[e("div",{class:"cell"},"\u6587\u4EF6\u7CFB\u7EDF")]),e("td",null,[e("div",{class:"cell"},"\u603B\u5927\u5C0F")]),e("td",null,[e("div",{class:"cell"},"\u53EF\u7528\u5927\u5C0F")]),e("td",null,[e("div",{class:"cell"},"\u5DF2\u7528\u5927\u5C0F")]),e("td",null,[e("div",{class:"cell"},"\u5DF2\u7528\u767E\u5206\u6BD4")])],-1)),_e={class:"cell"},me={class:"cell"},he={class:"cell"},fe={class:"cell"},ve={class:"cell"},pe={class:"cell"},ye=n(()=>e("div",{class:"card-header"},[e("span",null,"CPU")],-1)),Fe={class:"el-table--enable-row-hover el-table--medium"},be={cellspacing:"0",style:{width:"100%"}},Ce=n(()=>e("td",null,[e("div",{class:"cell"},"\u6838\u5FC3\u6570:")],-1)),ge={class:"cell"},Ie=n(()=>e("td",null,[e("div",{class:"cell"},"\u4F7F\u7528\u7387:")],-1)),Se={class:"cell"},Be=n(()=>e("td",null,[e("div",{class:"cell"},"Load Avg 5:")],-1)),De={class:"cell"},we=n(()=>e("td",null,[e("div",{class:"cell"},"Load Avg 15:")],-1)),Ae={class:"cell"},Ee={style:{"min-height":"280px"},ref:"chartsWarningRef1"},Ue=n(()=>e("div",{class:"card-header"},[e("span",null,"\u5185\u5B58")],-1)),ke={class:"el-table--enable-row-hover el-table--medium"},Oe={cellspacing:"0",style:{width:"100%"}},ze=n(()=>e("td",null,[e("div",{class:"cell"},"\u603B\u6570:")],-1)),Re={class:"cell"},$e=n(()=>e("td",null,[e("div",{class:"cell"},"\u5DF2\u4F7F\u7528:")],-1)),Le={class:"cell"},Pe=n(()=>e("td",null,[e("div",{class:"cell"},"\u5269\u4F59:")],-1)),Ne={class:"cell"},Te=n(()=>e("td",null,[e("div",{class:"cell"},"iotfast\u7CFB\u7EDF\u4F7F\u7528:")],-1)),xe={class:"cell"},Ve={style:{"min-height":"280px"},ref:"chartsWarningRef2"};function We(s,l,t,r,h,f){const c=F("el-card"),i=F("el-col"),_=F("el-row");return b(),y("div",G,[d(_,{gutter:30},{default:a(()=>[d(i,{xs:24,sm:12,md:12,class:"marg-b-15"},{default:a(()=>[d(c,{class:"box-card"},{header:a(()=>[j]),default:a(()=>[e("div",K,[e("table",q,[e("tbody",null,[e("tr",null,[H,e("td",null,[e("div",J,o(s.sysInfo.sysOsName),1)])]),e("tr",null,[Q,e("td",null,[e("div",X,o(s.sysInfo.sysOsArch),1)])]),e("tr",null,[Y,e("td",null,[e("div",Z,o(s.sysInfo.sysComputerName),1)])]),e("tr",null,[ee,e("td",null,[e("div",se,o(s.sysInfo.sysComputerIp),1)])]),e("tr",null,[te,e("td",null,[e("div",le,o(s.sysInfo.goVersion),1)])]),e("tr",null,[oe,e("td",null,[e("div",ne,o(s.sysInfo.goStartTime),1)])]),e("tr",null,[ae,e("td",null,[e("div",ue,o(s.timeFormat(s.sysInfo.goRunTime)),1)])])])])])]),_:1})]),_:1}),d(i,{xs:24,sm:12,md:12,class:"marg-b-15"},{default:a(()=>[d(c,{class:"box-card"},{header:a(()=>[de]),default:a(()=>[e("div",ie,[e("table",ce,[e("tbody",null,[re,(b(!0),y(P,null,N(s.sysInfo.diskList,(u,v)=>(b(),y("tr",{key:v},[e("td",null,[e("div",_e,o(u.path),1)]),e("td",null,[e("div",me,o(u.fstype),1)]),e("td",null,[e("div",he,o(s.memorySizeFormat(u.total)),1)]),e("td",null,[e("div",fe,o(s.memorySizeFormat(u.free)),1)]),e("td",null,[e("div",ve,o(s.memorySizeFormat(u.used)),1)]),e("td",null,[e("div",pe,o(u.usedPercent)+"%",1)])]))),128))])])])]),_:1})]),_:1}),d(i,{xs:24,sm:12,md:12,class:"marg-b-15"},{default:a(()=>[d(c,{class:"box-card"},{header:a(()=>[ye]),default:a(()=>[e("div",Fe,[d(_,{gutter:30},{default:a(()=>[d(i,{xs:24,sm:24,md:12},{default:a(()=>[e("table",be,[e("tbody",null,[e("tr",null,[Ce,e("td",null,[e("div",ge,o(s.sysInfo.cpuNum),1)])]),e("tr",null,[Ie,e("td",null,[e("div",Se,o(s.sysInfo.cpuUsed)+"%",1)])]),e("tr",null,[Be,e("td",null,[e("div",De,o(s.sysInfo.cpuAvg5)+"%",1)])]),e("tr",null,[we,e("td",null,[e("div",Ae,o(s.sysInfo.cpuAvg15)+"%",1)])])])])]),_:1}),d(i,{xs:24,sm:24,md:12},{default:a(()=>[e("div",Ee,null,512)]),_:1})]),_:1})])]),_:1})]),_:1}),d(i,{xs:24,sm:12,md:12,class:"marg-b-15"},{default:a(()=>[d(c,{class:"box-card"},{header:a(()=>[Ue]),default:a(()=>[e("div",ke,[d(_,{gutter:30},{default:a(()=>[d(i,{xs:24,sm:24,md:12},{default:a(()=>[e("table",Oe,[e("tbody",null,[e("tr",null,[ze,e("td",null,[e("div",Re,o(s.memorySizeFormat(s.sysInfo.memTotal)),1)])]),e("tr",null,[$e,e("td",null,[e("div",Le,o(s.memorySizeFormat(s.sysInfo.memUsed)),1)])]),e("tr",null,[Pe,e("td",null,[e("div",Ne,o(s.memorySizeFormat(s.sysInfo.memFree)),1)])]),e("tr",null,[Te,e("td",null,[e("div",xe,o(s.memorySizeFormat(s.sysInfo.goUsed)),1)])])])])]),_:1}),d(i,{xs:24,sm:24,md:12},{default:a(()=>[e("div",Ve,null,512)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})])}var Je=O(M,[["render",We],["__scopeId","data-v-478554bb"]]);export{Je as default};
