var P=Object.defineProperty;var k=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var M=(e,o,i)=>o in e?P(e,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[o]=i,A=(e,o)=>{for(var i in o||(o={}))j.call(o,i)&&M(e,i,o[i]);if(k)for(var i of k(o))O.call(o,i)&&M(e,i,o[i]);return e};import{j as W,aw as L,aB as U,$ as I,x as S,b as F,d as z,aG as G,ac as D,_ as m,k as g,M as _,O as y,l as w,a3 as x,F as V,V as b,m as $,U as B,a4 as Q,G as J,c as K,P as X,Q as Y,S as Z,I as ee}from"./vue.1658457169439.js";import{u as E,_ as q,T as te,a as se,a8 as ne}from"./index.1658457169439.js";import{S as oe,L as ie}from"./main.1658457169439.js";const ae=W({name:"navMenuVertical",components:{SubItem:oe},props:{menuList:{type:Array,default:()=>[]}},setup(e){const o=E(),{themeConfig:i}=L(o),f=U(),r=I({defaultActive:f.meta.isDynamic?f.meta.isDynamicPath:f.path,isCollapse:!1}),l=S(()=>e.menuList),p=S(()=>i.value),a=c=>{const{path:u,meta:d}=c,s=d.isDynamic?d.isDynamicPath.split("/"):u.split("/");return s.length>=4&&d.isHide?s.splice(0,3).join("/"):u};return F(i.value,()=>{document.body.clientWidth<=1e3?r.isCollapse=!1:r.isCollapse=i.value.isCollapse},{immediate:!0}),z(()=>{r.defaultActive=a(f)}),G(c=>{r.defaultActive=a(c),document.body.clientWidth<1e3&&(i.value.isCollapse=!1)}),A({menuLists:l,getThemeConfig:p},D(r))}});function le(e,o,i,f,r,l){const p=m("SvgIcon"),a=m("SubItem"),c=m("el-sub-menu"),u=m("el-menu-item"),d=m("el-menu");return g(),_(d,{router:"","default-active":e.defaultActive,"background-color":"transparent",collapse:e.isCollapse,"unique-opened":e.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:y(()=>[(g(!0),w(V,null,x(e.menuLists,s=>(g(),w(V,null,[s.children&&s.children.length>0?(g(),_(c,{index:s.path,key:s.path},{title:y(()=>[b(p,{name:s.meta.icon},null,8,["name"]),$("span",null,B(e.$t(s.meta.title)),1)]),default:y(()=>[b(a,{chil:s.children},null,8,["chil"])]),_:2},1032,["index"])):(g(),_(u,{index:s.path,key:s.path},Q({default:y(()=>[b(p,{name:s.meta.icon},null,8,["name"])]),_:2},[!s.meta.isLink||s.meta.isLink&&s.meta.isIframe?{name:"title",fn:y(()=>[$("span",null,B(e.$t(s.meta.title)),1)])}:{name:"title",fn:y(()=>[$("a",{href:s.meta.isLink,target:"_blank",rel:"opener",class:"w100"},B(e.$t(s.meta.title)),9,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}var ue=q(ae,[["render",le]]);const re=W({name:"layoutAside",components:{Logo:ie,Vertical:ue},setup(){const{proxy:e}=K(),o=te(),i=E(),f=se(),{routesList:r}=L(o),{themeConfig:l}=L(i),{isTagsViewCurrenFull:p}=L(f),a=I({menuList:[],clientWidth:0}),c=S(()=>{const{layout:t,isCollapse:n,menuBar:h}=l.value,C=["#FFFFFF","#FFF","#fff","#ffffff"].includes(h)?"layout-el-aside-br-color":"";if(a.clientWidth<=1e3)if(n){document.body.setAttribute("class","el-popup-parent--hidden");const N=document.querySelector(".layout-container"),v=document.createElement("div");return v.setAttribute("class","layout-aside-mobile-mode"),N.appendChild(v),v.addEventListener("click",u),[C,"layout-aside-mobile","layout-aside-mobile-open"]}else return u(),[C,"layout-aside-mobile","layout-aside-mobile-close"];else return t==="columns"?n?[C,"layout-aside-pc-1"]:[C,"layout-aside-pc-220"]:n?[C,"layout-aside-pc-64"]:[C,"layout-aside-pc-220"]}),u=()=>{const t=document.querySelector(".layout-aside-mobile-mode");t==null||t.setAttribute("style","animation: error-img-two 0.3s"),setTimeout(()=>{var h;(h=t==null?void 0:t.parentNode)==null||h.removeChild(t)},300),document.body.clientWidth<1e3&&(l.value.isCollapse=!1),document.body.setAttribute("class","")},d=S(()=>{let{layout:t,isShowLogo:n}=l.value;return n&&t==="defaults"||n&&t==="columns"}),s=()=>{if(l.value.layout==="columns")return!1;a.menuList=R(r.value)},R=t=>t.filter(n=>!n.meta.isHide).map(n=>(n=Object.assign({},n),n.children&&(n.children=R(n.children)),n)),T=t=>{a.clientWidth=t},H=t=>{let{layout:n}=l.value;if(n!=="columns")return!1;t||e.mittBus.emit("restoreDefault"),o.setColumnsMenuHover(t)};return F(l.value,t=>{if(t.isShowLogoChange!==t.isShowLogo){if(!e.$refs.layoutAsideScrollbarRef)return!1;e.$refs.layoutAsideScrollbarRef.update()}}),F(ne.state,t=>{let{layout:n,isClassicSplitMenu:h}=t.themeConfig.themeConfig;if(n==="classic"&&h)return!1;s()},{deep:!0}),J(()=>{T(document.body.clientWidth),s(),e.mittBus.on("setSendColumnsChildren",t=>{a.menuList=t.children}),e.mittBus.on("setSendClassicChildren",t=>{let{layout:n,isClassicSplitMenu:h}=l.value;n==="classic"&&h&&(a.menuList=[],a.menuList=t.children)}),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{s()}),e.mittBus.on("layoutMobileResize",t=>{T(t.clientWidth),u()})}),A({setCollapseStyle:c,setShowLogo:d,isTagsViewCurrenFull:p,onAsideEnterLeave:H},D(a))}}),ce={class:"h100"};function de(e,o,i,f,r,l){const p=m("Logo"),a=m("Vertical"),c=m("el-scrollbar"),u=m("el-aside");return X((g(),w("div",ce,[b(u,{class:ee(["layout-aside",e.setCollapseStyle])},{default:y(()=>[e.setShowLogo?(g(),_(p,{key:0})):Z("",!0),b(c,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:o[0]||(o[0]=d=>e.onAsideEnterLeave(!0)),onMouseleave:o[1]||(o[1]=d=>e.onAsideEnterLeave(!1))},{default:y(()=>[b(a,{menuList:e.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[Y,!e.isTagsViewCurrenFull]])}var ge=q(re,[["render",de]]);export{ge as A};
